<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>もこらぼ - Moko Lab</title>
    <link rel="stylesheet" href="./style.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="background-animation"></div>
 
    <div class="floating-objects">
        <div class="circle circle-1"></div>
        <div class="circle circle-2"></div>
    </div>

    <header class="yt-style-header">
    <div class="header-left">
        <div class="logo">もこらぼ</div>
        <div class="status-badge">
            <span class="dot"></span>
            <span>LIVE NOW</span> 
        </div>
    </div>
    </header>

    <main>
        <section id="home" class="hero">
            <div class="glass-card hero-content">
                <h1>もこらぼ</h1>
                <p>もこのらぼでもこらぼ</p>
            </div>
        </section>

        <div class="container">
            <section id="updates">
                <h2 class="section-title">最近のできごと</h2>
                <div class="glass-card x-container">
                    <a class="twitter-timeline" 
                       data-height="500" 
                       data-theme="light" 
                       data-chrome="transparent nofooter noborders"
                       href="https://twitter.com/browndogmoko?ref_src=twsrc%5Etfw">
                       Tweets by browndogmoko
                    </a> 
                </div>
            </section>
            
            <section id="videos">
                <h2 class="section-title">最近の動画（配信）</h2>
                <div class="video-grid">
                    <div class="glass-card video-item">
                        <div class="iframe-container">
                            <iframe src="https://www.youtube.com/embed/NxVCIcpXCpw" frameborder="0" allowfullscreen></iframe>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <aside class="side-sns">
        <a href="https://twitter.com/（あとでいれる）" target="_blank" class="sns-item"><i class="fab fa-twitter"></i></a>
        <a href="https://www.youtube.com/@...（あとでいれる）" target="_blank" class="sns-item"><i class="fab fa-youtube"></i></a>
        <a href="https://github.com/（あとでいれる）" target="_blank" class="sns-item"><i class="fab fa-github"></i></a>
    </aside>

    <footer>
        <p>&copy; 2026 もこらぼ</p>
    </footer>

    <div id="moko-char-container" class="moko-char-container" onclick="toggleCharacter()">
    <div id="moko-bubble" class="moko-bubble">こんにちは！</div>
    
    <div class="moko-character">
        <div class="char-body">
            <div class="char-head">
                <div class="eye left"></div>
                <div class="eye right"></div>
            </div>
        </div>
        <div class="mini-tab">◀</div>
    </div>

        <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
    <script>
    // マウスの位置をカードに伝える魔法
    document.querySelectorAll('.glass-card').forEach(card => {
        card.addEventListener('mousemove', e => {
            const rect = card.getBoundingClientRect();
            const x = ((e.clientX - rect.left) / rect.width) * 100;
            const y = ((e.clientY - rect.top) / rect.height) * 100;
            card.style.setProperty('--mouse-x', `${x}%`);
            card.style.setProperty('--mouse-y', `${y}%`);
        });
    });

    // 2. キャラクター制御（パーツが見つからない場合のエラーを防ぐ！）
    const container = document.getElementById('moko-char-container');
    const bubble = document.getElementById('moko-bubble');

    // ページ読み込みから2秒後に最初の挨拶を出す
    setTimeout(() => {
        if(bubble) bubble.classList.add('show');
    }, 2000);

    // スクロール判定をさらに確実に
    window.addEventListener('scroll', () => {
        if (!bubble) return;
        
        const sections = document.querySelectorAll('.glass-card, .video-item, .x-container');
        let currentMessage = "見て回ってね！";

        sections.forEach(sec => {
            const rect = sec.getBoundingClientRect();
            if (rect.top < window.innerHeight * 0.6 && rect.bottom > window.innerHeight * 0.4) {
                if (sec.innerText.includes('動画')) currentMessage = "動画、見てくれる？";
                if (sec.innerText.includes('できごと')) currentMessage = "最近のニュースだよ！";
            }
        });

        if (bubble.innerText !== currentMessage) {
            bubble.innerText = currentMessage;
            bubble.classList.add('show');
        }
    });

    // 3. 最小化の切り替え関数
    function toggleCharacter() {
        const charContainer = document.getElementById('moko-char-container');
        if (charContainer) {
            charContainer.classList.toggle('minimized');
        }
    }
    </script>
</div>
</body>
</html>